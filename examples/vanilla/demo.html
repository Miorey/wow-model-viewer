<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WoW model viewer</title>
    <script crossorigin="anonymous"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://wow.zamimg.com/modelviewer/live/viewer/viewer.min.js"></script>
    <script src="../../index.js" type="module"></script>
    <link href="http://fonts.cdnfonts.com/css/lifecraft" rel="stylesheet">
</head>
<body>
<h1>
    WoW model viewer
</h1>
<div class="model_3d" id="model_3d1"></div>
<div class="model_3d" id="model_3d2">Clock</div>
<div class="model_3d" id="model_3d3">Rotation</div>
</body>
<style>
    body {
        background: #333;
        color: #bbbb00;
    }

    .model_3d {
        width: 33%;
        background: #333;
        float: left;
    }

    h1 {
        font-family: 'LifeCraft', sans-serif;
        color: #000;
        text-shadow: 0 0 3px #f9c811, 0 0 3px #f9c811, 0 0 3px #f9c811, 0 0 3px #f9c811;
        bottom: 0;
        left: 58px;
    }
</style>

<script type="module">
    import {generateModels} from '../../index.js';

    const character = {
        "race": 7,
        "gender": 1,
        "skin": 4,
        "face": 0,
        "hairStyle": 5,
        "hairColor": 5,
        "facialStyle": 5,
        "items": [[1, 1170], [3, 4925], [5, 9575], [6, 25235], [7, 2311], [8, 21154], [9, 14618], [10, 9534], [15, 17238], [21, 20379], [22, 28787]]
    };

    window.model1 = await generateModels(1, `#model_3d1`, character);
    window.model2 = await generateModels(1, `#model_3d2`, {type: 1, id: 193841});
    window.model3 = await generateModels(1, `#model_3d3`, {type: 8, id: 24949});
    setInterval(() => {
        const date = new Date;
        window.model2.setAzimuth(2 * Math.PI * (date.getSeconds() / 60))
        window.model2.setZenith(Math.PI)
    }, 1000)

    let angle = 0
    setInterval(() => {
        if (angle === 20000) {
            angle = 10000
        }
        angle += 10
        window.model3.setAzimuth(2 * Math.PI * (angle / 10000))
        window.model2.setZenith(Math.PI)
    }, 1)
</script>
</html>
